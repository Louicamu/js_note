<script>
    class EventEmitter{
        constructor(){
            this.arrayList={}
        }
        on(name,fn){
            if(this.arrayList[name]){
                this.arrayList[name].push(fn)
            }else{
                this.arrayList[name]=[fn]
            }
        }
        off(name,fn){
            if(this.arrayList[name]){
                let idx=this.arrayList[name].indexOf(fn)
                this.arrayList[name].splice(1,idx)
            }
        }
        emit(name,...args){
            if(this.arrayList[name]){
                let tasks=[...this.arrayList[name]]
                for(const fn of tasks){
                    fn.call(fn,...args)
                }
            }
        }
    }
</script>