<script>
    function promiseAll(promises){
        return Promise((resolve,reject)=>{
            if(!Array.isArray(promises)){
                throw new TypeError("error")
            }
            var resolvedResult=[]
            var counter=0
            var promiseNum=promises.length
            for(let i=0;i<promiseNum;i++){
                Promise.resolve(promises[i]).then((value)=>{
                    resolvedResult[i]=value
                    counter++
                    if(counter==promiseNum){
                        resolve(resolvedResult)
                    }
                },error=>{
                    reject(error)
                })
            }
        })
    }
</script>