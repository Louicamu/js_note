<script>
    class emit{
        constructor(){
            this.arraryList=[]
        }
        on(name,fn){
            if(this.arraryList[name]&&!this.arraryList[name].includes(fn)){
                this.arraryList[name].push(fn)
            }else{
                this.arraryList[name]=[fn]
            }
        }
        off(name,fn){
            if(this.arraryList[name]){
                let idx=this.arraryList[name].indexOf(fn)
                this.arraryList[name].splice(idx,1)
            }
        }
        emit(fn,...args){
            if(this.arraryList[name]){
                let tasks=[...this.arraryList[name]]
                for(const fn of tasks){
                    fn.call(this,args)
                }
            }
        }
    }
</script>